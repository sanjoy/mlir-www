<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: lib/Dialect/Bufferization/Transforms/OneShotAnalysis.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">14.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1a25ec519b6c1121408b67cc33ce3f15.html">Dialect</a></li><li class="navelem"><a class="el" href="dir_556cbcf41dc9f6a4cebed138b2acfeaf.html">Bufferization</a></li><li class="navelem"><a class="el" href="dir_6a00c96d3d316031f3639df96a4a4a79.html">Transforms</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">OneShotAnalysis.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="OneShotAnalysis_8h_source.html">mlir/Dialect/Bufferization/Transforms/OneShotAnalysis.h</a>&quot;</code><br />
<code>#include &lt;random&gt;</code><br />
<code>#include &quot;<a class="el" href="BufferizableOpInterface_8h_source.html">mlir/Dialect/Bufferization/IR/BufferizableOpInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Bufferization_8h_source.html">mlir/Dialect/Bufferization/IR/Bufferization.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Bufferize_8h_source.html">mlir/Dialect/Bufferization/Transforms/Bufferize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemRef_8h_source.html">mlir/Dialect/MemRef/IR/MemRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AsmState_8h_source.html">mlir/IR/AsmState.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dominance_8h_source.html">mlir/IR/Dominance.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Operation_8h_source.html">mlir/IR/Operation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TypeUtilities_8h_source.html">mlir/IR/TypeUtilities.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ControlFlowInterfaces_8h_source.html">mlir/Interfaces/ControlFlowInterfaces.h</a>&quot;</code><br />
<code>#include &quot;llvm/ADT/DenseSet.h&quot;</code><br />
<code>#include &quot;llvm/ADT/SetVector.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for OneShotAnalysis.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="OneShotAnalysis_8cpp__incl.png" border="0" usemap="#lib_2Dialect_2Bufferization_2Transforms_2OneShotAnalysis_8cpp" alt=""/></div>
<map name="lib_2Dialect_2Bufferization_2Transforms_2OneShotAnalysis_8cpp" id="lib_2Dialect_2Bufferization_2Transforms_2OneShotAnalysis_8cpp">
<area shape="rect" id="node2" href="OneShotAnalysis_8h.html" title="mlir/Dialect/Bufferization\l/Transforms/OneShotAnalysis.h" alt="" coords="1370,184,1594,225"/>
<area shape="rect" id="node3" href="BufferizableOpInterface_8h.html" title="mlir/Dialect/Bufferization\l/IR/BufferizableOpInterface.h" alt="" coords="1085,273,1295,315"/>
<area shape="rect" id="node13" href="Operation_8h.html" title="mlir/IR/Operation.h" alt="" coords="705,705,851,732"/>
<area shape="rect" id="node28" href="Bufferization_8h.html" title="mlir/Dialect/Bufferization\l/IR/Bufferization.h" alt="" coords="1109,95,1295,136"/>
<area shape="rect" id="node30" href="MemRef_8h.html" title="mlir/Dialect/MemRef\l/IR/MemRef.h" alt="" coords="2263,184,2418,225"/>
<area shape="rect" id="node33" href="ControlFlowInterfaces_8h.html" title="mlir/Interfaces/ControlFlow\lInterfaces.h" alt="" coords="2963,273,3161,315"/>
<area shape="rect" id="node42" href="Bufferize_8h.html" title="mlir/Dialect/Bufferization\l/Transforms/Bufferize.h" alt="" coords="2640,95,2825,136"/>
<area shape="rect" id="node44" href="AsmState_8h.html" title="mlir/IR/AsmState.h" alt="" coords="3286,281,3430,307"/>
<area shape="rect" id="node45" href="Dominance_8h.html" title="mlir/IR/Dominance.h" alt="" coords="179,102,334,129"/>
<area shape="rect" id="node48" href="TypeUtilities_8h.html" title="mlir/IR/TypeUtilities.h" alt="" coords="505,102,667,129"/>
<area shape="rect" id="node17" href="BuiltinOps_8h.html" title="mlir/IR/BuiltinOps.h" alt="" coords="1745,459,1893,486"/>
<area shape="rect" id="node5" href="BlockAndValueMapping_8h.html" title="mlir/IR/BlockAndValueMapping.h" alt="" coords="228,631,461,657"/>
<area shape="rect" id="node7" href="Builders_8h.html" title="mlir/IR/Builders.h" alt="" coords="1543,459,1677,486"/>
<area shape="rect" id="node21" href="IR_2BuiltinTypes_8h.html" title="mlir/IR/BuiltinTypes.h" alt="" coords="1497,370,1657,397"/>
<area shape="rect" id="node22" href="PatternMatch_8h.html" title="mlir/IR/PatternMatch.h" alt="" coords="1732,370,1899,397"/>
<area shape="rect" id="node23" href="Support_2LLVM_8h.html" title="mlir/Support/LLVM.h" alt="" coords="2127,370,2277,397"/>
<area shape="rect" id="node6" href="Block_8h.html" title="mlir/IR/Block.h" alt="" coords="450,855,567,881"/>
<area shape="rect" id="node8" href="OpDefinition_8h.html" title="mlir/IR/OpDefinition.h" alt="" coords="2137,631,2299,657"/>
<area shape="rect" id="node9" href="IR_2Dialect_8h.html" title="mlir/IR/Dialect.h" alt="" coords="2559,705,2685,732"/>
<area shape="rect" id="node10" href="OperationSupport_8h.html" title="mlir/IR/OperationSupport.h" alt="" coords="2558,780,2753,807"/>
<area shape="rect" id="node11" href="IR_2BuiltinAttributes_8h.html" title="mlir/IR/BuiltinAttributes.h" alt="" coords="2427,855,2614,881"/>
<area shape="rect" id="node14" href="IR_2Diagnostics_8h.html" title="mlir/IR/Diagnostics.h" alt="" coords="691,780,849,807"/>
<area shape="rect" id="node15" href="IR_2Region_8h.html" title="mlir/IR/Region.h" alt="" coords="446,780,571,807"/>
<area shape="rect" id="node18" href="CallInterfaces_8h.html" title="mlir/Interfaces/CallInterfaces.h" alt="" coords="1647,549,1869,575"/>
<area shape="rect" id="node19" href="CastInterfaces_8h.html" title="mlir/Interfaces/CastInterfaces.h" alt="" coords="2105,549,2331,575"/>
<area shape="rect" id="node20" href="SideEffectInterfaces_8h.html" title="mlir/Interfaces/SideEffect\lInterfaces.h" alt="" coords="1894,541,2081,583"/>
<area shape="rect" id="node29" href="AllocationOpInterface_8h.html" title="mlir/Dialect/Bufferization\l/IR/AllocationOpInterface.h" alt="" coords="548,363,744,404"/>
<area shape="rect" id="node39" href="Dialect_2Tensor_2IR_2Tensor_8h.html" title="mlir/Dialect/Tensor\l/IR/Tensor.h" alt="" coords="1829,184,1973,225"/>
<area shape="rect" id="node31" href="Arithmetic_8h.html" title="mlir/Dialect/Arithmetic\l/IR/Arithmetic.h" alt="" coords="2414,452,2585,493"/>
<area shape="rect" id="node32" href="ReshapeOpsUtils_8h.html" title="mlir/Dialect/Utils\l/ReshapeOpsUtils.h" alt="" coords="2079,273,2227,315"/>
<area shape="rect" id="node35" href="CopyOpInterface_8h.html" title="mlir/Interfaces/CopyOpInterface.h" alt="" coords="2905,459,3147,486"/>
<area shape="rect" id="node36" href="ViewLikeInterface_8h.html" title="mlir/Interfaces/ViewLike\lInterface.h" alt="" coords="1875,273,2055,315"/>
<area shape="rect" id="node43" href="DialectConversion_8h.html" title="mlir/Transforms/DialectConversion.h" alt="" coords="2603,191,2862,218"/>
<area shape="rect" id="node46" href="RegionGraphTraits_8h.html" title="mlir/IR/RegionGraphTraits.h" alt="" coords="5,631,204,657"/>
</map>
</div>
</div>
<p><a href="OneShotAnalysis_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAssertDestinationPassingStyle.html">AssertDestinationPassingStyle</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that IR is in destination-passing style.  <a href="structAssertDestinationPassingStyle.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5d3f4227b727bd0d4df109e86e0b1bab"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a5d3f4227b727bd0d4df109e86e0b1bab">isaTensor</a> (<a class="el" href="classmlir_1_1Type.html">Type</a> t)</td></tr>
<tr class="separator:a5d3f4227b727bd0d4df109e86e0b1bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d15fcc15553d58232b158df7b88c68"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a34d15fcc15553d58232b158df7b88c68">setInPlaceOpOperand</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;opOperand, bool inPlace)</td></tr>
<tr class="memdesc:a34d15fcc15553d58232b158df7b88c68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark whether OpOperand will be bufferized inplace.  <a href="#a34d15fcc15553d58232b158df7b88c68">More...</a><br /></td></tr>
<tr class="separator:a34d15fcc15553d58232b158df7b88c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a287045d4b24dbe6e54b74da5c5dc6af4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a287045d4b24dbe6e54b74da5c5dc6af4">isInplaceMemoryWrite</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;opOperand, const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state)</td></tr>
<tr class="memdesc:a287045d4b24dbe6e54b74da5c5dc6af4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if opOperand has been decided to bufferize in-place.  <a href="#a287045d4b24dbe6e54b74da5c5dc6af4">More...</a><br /></td></tr>
<tr class="separator:a287045d4b24dbe6e54b74da5c5dc6af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fc248f74737856d86f7f241a3f1063"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a79fc248f74737856d86f7f241a3f1063">aliasesNonWritableBuffer</a> (<a class="el" href="classmlir_1_1Value.html">Value</a> <a class="el" href="InterfaceSupport_8h.html#a53ed1830bfcbea42b0e7b10281e03865">value</a>, const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state)</td></tr>
<tr class="memdesc:a79fc248f74737856d86f7f241a3f1063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if, under current bufferization decisions, the buffer of <code>value</code> is not writable.  <a href="#a79fc248f74737856d86f7f241a3f1063">More...</a><br /></td></tr>
<tr class="separator:a79fc248f74737856d86f7f241a3f1063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1431358f638eca8e1a319b8d3ab9a25"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#ad1431358f638eca8e1a319b8d3ab9a25">aliasesInPlaceWrite</a> (<a class="el" href="classmlir_1_1Value.html">Value</a> <a class="el" href="InterfaceSupport_8h.html#a53ed1830bfcbea42b0e7b10281e03865">value</a>, const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state)</td></tr>
<tr class="memdesc:ad1431358f638eca8e1a319b8d3ab9a25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the buffer to which <code>operand</code> would bufferize is equivalent to some buffer write.  <a href="#ad1431358f638eca8e1a319b8d3ab9a25">More...</a><br /></td></tr>
<tr class="separator:ad1431358f638eca8e1a319b8d3ab9a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab55113efa4ab370f96475cb0704060c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#aab55113efa4ab370f96475cb0704060c">happensBefore</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *a, <a class="el" href="classmlir_1_1Operation.html">Operation</a> *b, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo)</td></tr>
<tr class="memdesc:aab55113efa4ab370f96475cb0704060c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if <code>a</code> happens before <code>b</code>, i.e., <code>a</code> or one of its ancestors properly dominates <code>b</code> and <code>b</code> is not inside <code>a</code>.  <a href="#aab55113efa4ab370f96475cb0704060c">More...</a><br /></td></tr>
<tr class="separator:aab55113efa4ab370f96475cb0704060c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9121bdc811d323e4deed805b692ec14e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a9121bdc811d323e4deed805b692ec14e">annotateConflict</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *uRead, <a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *uConflictingWrite, <a class="el" href="classmlir_1_1Value.html">Value</a> lastWrite)</td></tr>
<tr class="memdesc:a9121bdc811d323e4deed805b692ec14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Annotate IR with details about the detected RaW conflict.  <a href="#a9121bdc811d323e4deed805b692ec14e">More...</a><br /></td></tr>
<tr class="separator:a9121bdc811d323e4deed805b692ec14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf5673bc1406bb641deeb1987e1284f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#aaaf5673bc1406bb641deeb1987e1284f">hasReadAfterWriteInterference</a> (const <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&gt; &amp;usesRead, const <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&gt; &amp;usesWrite, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state, const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo)</td></tr>
<tr class="memdesc:aaaf5673bc1406bb641deeb1987e1284f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given sets of uses and writes, return true if there is a RaW conflict under the assumption that all given reads/writes alias the same buffer and that all given writes bufferize inplace.  <a href="#aaaf5673bc1406bb641deeb1987e1284f">More...</a><br /></td></tr>
<tr class="separator:aaaf5673bc1406bb641deeb1987e1284f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7c0def26e621dcf9a05be1f24d8299"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a6b7c0def26e621dcf9a05be1f24d8299">wouldCreateReadAfterWriteInterference</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;operand, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state, const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, bool checkConsistencyOnly=false)</td></tr>
<tr class="memdesc:a6b7c0def26e621dcf9a05be1f24d8299"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if bufferizing <code>operand</code> inplace would create a conflict.  <a href="#a6b7c0def26e621dcf9a05be1f24d8299">More...</a><br /></td></tr>
<tr class="separator:a6b7c0def26e621dcf9a05be1f24d8299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab2cec402b67c234b8388255a2d6116"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a5ab2cec402b67c234b8388255a2d6116">wouldCreateWriteToNonWritableBuffer</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;opOperand, const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state)</td></tr>
<tr class="memdesc:a5ab2cec402b67c234b8388255a2d6116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if bufferizing <code>opOperand</code> inplace would create a write to a non-writable buffer.  <a href="#a5ab2cec402b67c234b8388255a2d6116">More...</a><br /></td></tr>
<tr class="separator:a5ab2cec402b67c234b8388255a2d6116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1000cfdc5ef6aa87011c1417159e2d92"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a1000cfdc5ef6aa87011c1417159e2d92">bufferizableInPlaceAnalysisImpl</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;operand, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo)</td></tr>
<tr class="memdesc:a1000cfdc5ef6aa87011c1417159e2d92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if <code>operand</code> can be bufferized in-place.  <a href="#a1000cfdc5ef6aa87011c1417159e2d92">More...</a><br /></td></tr>
<tr class="separator:a1000cfdc5ef6aa87011c1417159e2d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a0bd77f11db665a037cc8bfc42e1afe"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a6a0bd77f11db665a037cc8bfc42e1afe">inPlaceAnalysis</a> (<a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;ops, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, <a class="el" href="classunsigned.html">unsigned</a> analysisFuzzerSeed=0)</td></tr>
<tr class="memdesc:a6a0bd77f11db665a037cc8bfc42e1afe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze the <code>ops</code> to determine which OpOperands are inplaceable.  <a href="#a6a0bd77f11db665a037cc8bfc42e1afe">More...</a><br /></td></tr>
<tr class="separator:a6a0bd77f11db665a037cc8bfc42e1afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66699b6e4b8d3b1f7583a0237ae62534"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a66699b6e4b8d3b1f7583a0237ae62534">hasTensorSemantics</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op)</td></tr>
<tr class="memdesc:a66699b6e4b8d3b1f7583a0237ae62534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the given op has a tensor result or a tensor operand.  <a href="#a66699b6e4b8d3b1f7583a0237ae62534">More...</a><br /></td></tr>
<tr class="separator:a66699b6e4b8d3b1f7583a0237ae62534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95183b4b983d550c81cc8341b8109104"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a95183b4b983d550c81cc8341b8109104">inPlaceAnalysis</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, <a class="el" href="classunsigned.html">unsigned</a> analysisFuzzerSeed=0)</td></tr>
<tr class="memdesc:a95183b4b983d550c81cc8341b8109104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze all ops that are contained in <code>op</code>.  <a href="#a95183b4b983d550c81cc8341b8109104">More...</a><br /></td></tr>
<tr class="separator:a95183b4b983d550c81cc8341b8109104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af00595ccca61bf1f4407b903a8f45fde"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#af00595ccca61bf1f4407b903a8f45fde">equivalenceAnalysis</a> (<a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;ops, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state)</td></tr>
<tr class="memdesc:af00595ccca61bf1f4407b903a8f45fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze equivalence of tied OpResult/OpOperand pairs of the given ops.  <a href="#af00595ccca61bf1f4407b903a8f45fde">More...</a><br /></td></tr>
<tr class="separator:af00595ccca61bf1f4407b903a8f45fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bfbe668942ae9b45c9649513eb89f12"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a3bfbe668942ae9b45c9649513eb89f12">equivalenceAnalysis</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state)</td></tr>
<tr class="memdesc:a3bfbe668942ae9b45c9649513eb89f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze equivalence of tied OpResult/OpOperand pairs of all ops contained in <code>op</code>.  <a href="#a3bfbe668942ae9b45c9649513eb89f12">More...</a><br /></td></tr>
<tr class="separator:a3bfbe668942ae9b45c9649513eb89f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1f2b2170c6317cf7e17d36af7655fa5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#ab1f2b2170c6317cf7e17d36af7655fa5">checkAliasInfoConsistency</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state, const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo)</td></tr>
<tr class="memdesc:ab1f2b2170c6317cf7e17d36af7655fa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that the current bufferization decisions are consistent.  <a href="#ab1f2b2170c6317cf7e17d36af7655fa5">More...</a><br /></td></tr>
<tr class="separator:ab1f2b2170c6317cf7e17d36af7655fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a669f137612206e146b016d929da936f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a669f137612206e146b016d929da936f7">annotateOpsWithBufferizationMarkers</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;aliasInfo, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state)</td></tr>
<tr class="memdesc:a669f137612206e146b016d929da936f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Annotate the IR with the result of the analysis. For testing/debugging only.  <a href="#a669f137612206e146b016d929da936f7">More...</a><br /></td></tr>
<tr class="separator:a669f137612206e146b016d929da936f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a660646289e735830b2490d50e78de988"><td class="memItemLeft" align="right" valign="top">constexpr StringLiteral&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OneShotAnalysis_8cpp.html#a660646289e735830b2490d50e78de988">kInPlaceResultsAttrName</a> = &quot;__inplace_operands_attr__&quot;</td></tr>
<tr class="memdesc:a660646289e735830b2490d50e78de988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attribute marker to specify op results that can be bufferized inPlace.  <a href="#a660646289e735830b2490d50e78de988">More...</a><br /></td></tr>
<tr class="separator:a660646289e735830b2490d50e78de988"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad1431358f638eca8e1a319b8d3ab9a25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1431358f638eca8e1a319b8d3ab9a25">&#9670;&nbsp;</a></span>aliasesInPlaceWrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool aliasesInPlaceWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the buffer to which <code>operand</code> would bufferize is equivalent to some buffer write. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00261">261</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="OneShotAnalysis_8cpp_source.html#l00164">mlir::bufferization::BufferizationAliasInfo::applyOnAliases()</a>, <a class="el" href="Value_8h_source.html#l00196">mlir::Value::getUses()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00223">isInplaceMemoryWrite()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00494">wouldCreateWriteToNonWritableBuffer()</a>.</p>

</div>
</div>
<a id="a79fc248f74737856d86f7f241a3f1063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79fc248f74737856d86f7f241a3f1063">&#9670;&nbsp;</a></span>aliasesNonWritableBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool aliasesNonWritableBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if, under current bufferization decisions, the buffer of <code>value</code> is not writable. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00235">235</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="OneShotAnalysis_8cpp_source.html#l00164">mlir::bufferization::BufferizationAliasInfo::applyOnAliases()</a>, <a class="el" href="Value_8h_source.html#l00099">mlir::Value::dyn_cast()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00053">mlir::bufferization::BufferizationOptions::dynCastBufferizableOp()</a>, and <a class="el" href="BufferizableOpInterface_8h_source.html#l00255">mlir::bufferization::BufferizationState::getOptions()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00494">wouldCreateWriteToNonWritableBuffer()</a>.</p>

</div>
</div>
<a id="a9121bdc811d323e4deed805b692ec14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9121bdc811d323e4deed805b692ec14e">&#9670;&nbsp;</a></span>annotateConflict()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> annotateConflict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&#160;</td>
          <td class="paramname"><em>uRead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&#160;</td>
          <td class="paramname"><em>uConflictingWrite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>lastWrite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Annotate IR with details about the detected RaW conflict. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00292">292</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00107">mlir::Value::cast()</a>, <a class="el" href="Value_8h_source.html#l00099">mlir::Value::dyn_cast()</a>, <a class="el" href="Operation_8h_source.html#l00099">mlir::Operation::getContext()</a>, <a class="el" href="Value_8cpp_source.html#l00212">mlir::OpOperand::getOperandNumber()</a>, <a class="el" href="UseDefLists_8h_source.html#l00037">mlir::detail::IROperandBase::getOwner()</a>, <a class="el" href="Value_8h_source.html#l00307">mlir::BlockArgument::getOwner()</a>, <a class="el" href="Block_8cpp_source.html#l00030">mlir::Block::getParentOp()</a>, and <a class="el" href="Operation_8h_source.html#l00347">mlir::Operation::setAttr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00331">hasReadAfterWriteInterference()</a>.</p>

</div>
</div>
<a id="a669f137612206e146b016d929da936f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a669f137612206e146b016d929da936f7">&#9670;&nbsp;</a></span>annotateOpsWithBufferizationMarkers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> annotateOpsWithBufferizationMarkers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Annotate the IR with the result of the analysis. For testing/debugging only. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00667">667</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00053">mlir::bufferization::BufferizationOptions::dynCastBufferizableOp()</a>, <a class="el" href="Operation_8h_source.html#l00252">mlir::Operation::getOpOperands()</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00255">mlir::bufferization::BufferizationState::getOptions()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00135">mlir::bufferization::BufferizationAliasInfo::isInPlace()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00075">setInPlaceOpOperand()</a>, and <a class="el" href="Operation_8h_source.html#l00515">mlir::Operation::walk()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00748">mlir::bufferization::analyzeOp()</a>.</p>

</div>
</div>
<a id="a1000cfdc5ef6aa87011c1417159e2d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1000cfdc5ef6aa87011c1417159e2d92">&#9670;&nbsp;</a></span>bufferizableInPlaceAnalysisImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> bufferizableInPlaceAnalysisImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;&#160;</td>
          <td class="paramname"><em>operand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if <code>operand</code> can be bufferized in-place. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00520">520</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="OneShotAnalysis_8cpp_source.html#l00140">mlir::bufferization::BufferizationAliasInfo::bufferizeInPlace()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00148">mlir::bufferization::BufferizationAliasInfo::bufferizeOutOfPlace()</a>, <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00452">wouldCreateReadAfterWriteInterference()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00494">wouldCreateWriteToNonWritableBuffer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00553">inPlaceAnalysis()</a>.</p>

</div>
</div>
<a id="ab1f2b2170c6317cf7e17d36af7655fa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1f2b2170c6317cf7e17d36af7655fa5">&#9670;&nbsp;</a></span>checkAliasInfoConsistency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> checkAliasInfoConsistency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assert that the current bufferization decisions are consistent. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00638">638</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="Visitors_8h_source.html#l00051">mlir::WalkResult::advance()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00053">mlir::bufferization::BufferizationOptions::dynCastBufferizableOp()</a>, <a class="el" href="Operation_8cpp_source.html#l00231">mlir::Operation::emitError()</a>, <a class="el" href="Operation_8h_source.html#l00252">mlir::Operation::getOpOperands()</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00255">mlir::bufferization::BufferizationState::getOptions()</a>, <a class="el" href="Visitors_8h_source.html#l00050">mlir::WalkResult::interrupt()</a>, <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>, <a class="el" href="Operation_8h_source.html#l00515">mlir::Operation::walk()</a>, <a class="el" href="Visitors_8h_source.html#l00055">mlir::WalkResult::wasInterrupted()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00452">wouldCreateReadAfterWriteInterference()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00748">mlir::bufferization::analyzeOp()</a>.</p>

</div>
</div>
<a id="af00595ccca61bf1f4407b903a8f45fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af00595ccca61bf1f4407b903a8f45fde">&#9670;&nbsp;</a></span>equivalenceAnalysis() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> equivalenceAnalysis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze equivalence of tied OpResult/OpOperand pairs of the given ops. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00604">604</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00053">mlir::bufferization::BufferizationOptions::dynCastBufferizableOp()</a>, <a class="el" href="namespacemlir_1_1bufferization.html#afbf6d54f9e3c10b9003b66b6224b28bfaafd102579f64c98e96d92a7424130605">mlir::bufferization::Equivalent</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00255">mlir::bufferization::BufferizationState::getOptions()</a>, <a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html#a7f7cb2dba14e9fd5a4f91c07e026e573">mlir::bufferization::BufferizationState::isInPlace()</a>, and <a class="el" href="OneShotAnalysis_8h_source.html#l00095">mlir::bufferization::BufferizationAliasInfo::unionEquivalenceClasses()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00748">mlir::bufferization::analyzeOp()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00621">equivalenceAnalysis()</a>.</p>

</div>
</div>
<a id="a3bfbe668942ae9b45c9649513eb89f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bfbe668942ae9b45c9649513eb89f12">&#9670;&nbsp;</a></span>equivalenceAnalysis() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> equivalenceAnalysis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze equivalence of tied OpResult/OpOperand pairs of all ops contained in <code>op</code>. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00621">621</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="OneShotAnalysis_8cpp_source.html#l00604">equivalenceAnalysis()</a>, <a class="el" href="Operation_8h_source.html#l00297">mlir::Operation::getResultTypes()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00061">isaTensor()</a>, <a class="el" href="namespacemlir.html#a59fa9dd53c74f1ca73aa7ef263c94adca22e80e4e88a340d28d3f27ee3d9d7163">mlir::PostOrder</a>, and <a class="el" href="Operation_8h_source.html#l00515">mlir::Operation::walk()</a>.</p>

</div>
</div>
<a id="aab55113efa4ab370f96475cb0704060c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab55113efa4ab370f96475cb0704060c">&#9670;&nbsp;</a></span>happensBefore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool happensBefore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if <code>a</code> happens before <code>b</code>, i.e., <code>a</code> or one of its ancestors properly dominates <code>b</code> and <code>b</code> is not inside <code>a</code>. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00278">278</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="Operation_8h_source.html#l00117">mlir::Operation::getParentOp()</a>, <a class="el" href="Operation_8cpp_source.html#l00182">mlir::Operation::isProperAncestor()</a>, and <a class="el" href="Dominance_8h_source.html#l00130">mlir::DominanceInfo::properlyDominates()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00331">hasReadAfterWriteInterference()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00702">AssertDestinationPassingStyle::run()</a>.</p>

</div>
</div>
<a id="aaaf5673bc1406bb641deeb1987e1284f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaf5673bc1406bb641deeb1987e1284f">&#9670;&nbsp;</a></span>hasReadAfterWriteInterference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool hasReadAfterWriteInterference </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>usesRead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>usesWrite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given sets of uses and writes, return true if there is a RaW conflict under the assumption that all given reads/writes alias the same buffer and that all given writes bufferize inplace. </p>
<p>A conflict is: According to SSA use-def chains, a read R is supposed to read the result of a write W1. But because of bufferization decisions, R actually reads another write W2. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00331">331</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="OneShotAnalysis_8cpp_source.html#l00292">annotateConflict()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00053">mlir::bufferization::BufferizationOptions::dynCastBufferizableOp()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00188">mlir::bufferization::BufferizationState::findLastPrecedingWrite()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00091">mlir::bufferization::BufferizationState::getAliasingOpResult()</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00255">mlir::bufferization::BufferizationState::getOptions()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00278">happensBefore()</a>, <a class="el" href="ControlFlowInterfaces_8cpp_source.html#l00228">mlir::insideMutuallyExclusiveRegions()</a>, and <a class="el" href="BufferizableOpInterface_8h_source.html#l00111">mlir::bufferization::BufferizationOptions::printConflicts</a>.</p>

</div>
</div>
<a id="a66699b6e4b8d3b1f7583a0237ae62534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66699b6e4b8d3b1f7583a0237ae62534">&#9670;&nbsp;</a></span>hasTensorSemantics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool hasTensorSemantics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the given op has a tensor result or a tensor operand. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00579">579</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="Operation_8h_source.html#l00266">mlir::Operation::getOperandTypes()</a>, <a class="el" href="Operation_8h_source.html#l00297">mlir::Operation::getResultTypes()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00061">isaTensor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00586">inPlaceAnalysis()</a>.</p>

</div>
</div>
<a id="a6a0bd77f11db665a037cc8bfc42e1afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a0bd77f11db665a037cc8bfc42e1afe">&#9670;&nbsp;</a></span>inPlaceAnalysis() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> inPlaceAnalysis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>analysisFuzzerSeed</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze the <code>ops</code> to determine which OpOperands are inplaceable. </p>
<p>Walk ops in reverse and bufferize ops greedily. This is a good starter heuristic.</p>
<p>Even if an op does not read or write, it may still create an alias when bufferized in-place. An example of such ops is tensor.extract_slice.</p>
<p>Rationale for bufferizing <code>%1 = tensor.extract_slice %0[...]</code> inplace:</p>
<p>When bufferized out of place, an ExtractSliceOp lowers to alloc + copy. This cannot change the flow of information for either the source or the result buffers.</p>
<p>When bufferized inplace, an ExtractSliceOp does not by itself create any read or write from memory. Instead, it has the effect of merging the alias sets of the source and the result buffers.</p>
<p>An analysis is required to ensure inplace bufferization would not result in RaW dependence violations. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00553">553</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="OneShotAnalysis_8cpp_source.html#l00520">bufferizableInPlaceAnalysisImpl()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00053">mlir::bufferization::BufferizationOptions::dynCastBufferizableOp()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00255">mlir::bufferization::BufferizationState::getOptions()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00748">mlir::bufferization::analyzeOp()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00586">inPlaceAnalysis()</a>.</p>

</div>
</div>
<a id="a95183b4b983d550c81cc8341b8109104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95183b4b983d550c81cc8341b8109104">&#9670;&nbsp;</a></span>inPlaceAnalysis() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> inPlaceAnalysis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>analysisFuzzerSeed</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze all ops that are contained in <code>op</code>. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00586">586</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="OneShotAnalysis_8cpp_source.html#l00579">hasTensorSemantics()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00553">inPlaceAnalysis()</a>, and <a class="el" href="Operation_8h_source.html#l00515">mlir::Operation::walk()</a>.</p>

</div>
</div>
<a id="a5d3f4227b727bd0d4df109e86e0b1bab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3f4227b727bd0d4df109e86e0b1bab">&#9670;&nbsp;</a></span>isaTensor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isaTensor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Type.html">Type</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00061">61</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Types_8h_source.html#l00234">mlir::Type::isa()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00621">equivalenceAnalysis()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00579">hasTensorSemantics()</a>.</p>

</div>
</div>
<a id="a287045d4b24dbe6e54b74da5c5dc6af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a287045d4b24dbe6e54b74da5c5dc6af4">&#9670;&nbsp;</a></span>isInplaceMemoryWrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isInplaceMemoryWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;&#160;</td>
          <td class="paramname"><em>opOperand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if opOperand has been decided to bufferize in-place. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00223">223</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00112">mlir::bufferization::BufferizationState::bufferizesToMemoryWrite()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00135">mlir::bufferization::BufferizationAliasInfo::isInPlace()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00261">aliasesInPlaceWrite()</a>.</p>

</div>
</div>
<a id="a34d15fcc15553d58232b158df7b88c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34d15fcc15553d58232b158df7b88c68">&#9670;&nbsp;</a></span>setInPlaceOpOperand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> setInPlaceOpOperand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;&#160;</td>
          <td class="paramname"><em>opOperand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>inPlace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark whether OpOperand will be bufferized inplace. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00075">75</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="Attributes_8h_source.html#l00120">mlir::Attribute::dyn_cast_or_null()</a>, <a class="el" href="UseDefLists_8h_source.html#l00133">mlir::IROperand&lt; DerivedT, IRValueT &gt;::get()</a>, <a class="el" href="Operation_8h_source.html#l00323">mlir::Operation::getAttr()</a>, <a class="el" href="Operation_8h_source.html#l00215">mlir::Operation::getNumOperands()</a>, <a class="el" href="Value_8cpp_source.html#l00212">mlir::OpOperand::getOperandNumber()</a>, <a class="el" href="Operation_8h_source.html#l00252">mlir::Operation::getOpOperands()</a>, <a class="el" href="UseDefLists_8h_source.html#l00037">mlir::detail::IROperandBase::getOwner()</a>, <a class="el" href="Value_8h_source.html#l00117">mlir::Value::getType()</a>, <a class="el" href="IR_2Types_8h_source.html#l00234">mlir::Type::isa()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00072">kInPlaceResultsAttrName</a>, and <a class="el" href="Operation_8h_source.html#l00347">mlir::Operation::setAttr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00667">annotateOpsWithBufferizationMarkers()</a>.</p>

</div>
</div>
<a id="a6b7c0def26e621dcf9a05be1f24d8299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7c0def26e621dcf9a05be1f24d8299">&#9670;&nbsp;</a></span>wouldCreateReadAfterWriteInterference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool wouldCreateReadAfterWriteInterference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;&#160;</td>
          <td class="paramname"><em>operand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkConsistencyOnly</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if bufferizing <code>operand</code> inplace would create a conflict. </p>
<p>A read R and a write W of the same alias set is a conflict if inplace bufferization of W changes the value read by R to a value different from the one that would be expected by tracing back R's origin through SSA use-def chains. A conflict can only be introduced by a new alias and/or an inplace bufferization decision.</p>
<p>Example: %0 = tensor.extract_slice t[...][...][1, 1] {inplace?} %1 = vector.transfer_write v1, t {inplace} : vector&lt;5xf32&gt;, tensor&lt;?xf32&gt; e = tensor.extract_slice %1 %2 = vector.transfer_write v2, %0 {inplace} : vector&lt;6xf32&gt;, tensor&lt;?xf32&gt; %3 = vector.transfer_read e, cst : tensor&lt;?xf32&gt;, vector&lt;7xf32&gt;</p>
<p>In the above example, the two TransferWriteOps have already been decided to bufferize inplace. Bufferizing the ExtractSliceOp inplace would create a conflict because:</p><ul>
<li>According to SSA use-def chains, we expect to read the result of %1.</li>
<li>However, adding an alias {%0, t} would mean that the second TransferWriteOp overwrites the first one. Therefore, the TransferReadOp would no longer be reading the result of %1.</li>
</ul>
<p>If <code>checkConsistencyOnly</code> is true, this function checks if there is a read-after-write conflict without bufferizing <code>operand</code> inplace. This would indicate a problem with the current inplace bufferization decisions.</p>
<p>Note: If <code>checkConsistencyOnly</code>, this function may be called with a null OpResult. In that case, only the consistency of bufferization decisions involving aliases of the given OpOperand are checked. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00452">452</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00520">bufferizableInPlaceAnalysisImpl()</a>, and <a class="el" href="OneShotAnalysis_8cpp_source.html#l00638">checkAliasInfoConsistency()</a>.</p>

</div>
</div>
<a id="a5ab2cec402b67c234b8388255a2d6116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab2cec402b67c234b8388255a2d6116">&#9670;&nbsp;</a></span>wouldCreateWriteToNonWritableBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool wouldCreateWriteToNonWritableBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;&#160;</td>
          <td class="paramname"><em>opOperand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1bufferization_1_1BufferizationAliasInfo.html">BufferizationAliasInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if bufferizing <code>opOperand</code> inplace would create a write to a non-writable buffer. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00494">494</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">References <a class="el" href="OneShotAnalysis_8cpp_source.html#l00261">aliasesInPlaceWrite()</a>, <a class="el" href="OneShotAnalysis_8cpp_source.html#l00235">aliasesNonWritableBuffer()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00112">mlir::bufferization::BufferizationState::bufferizesToMemoryWrite()</a>, <a class="el" href="UseDefLists_8h_source.html#l00133">mlir::IROperand&lt; DerivedT, IRValueT &gt;::get()</a>, and <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00091">mlir::bufferization::BufferizationState::getAliasingOpResult()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00520">bufferizableInPlaceAnalysisImpl()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a660646289e735830b2490d50e78de988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a660646289e735830b2490d50e78de988">&#9670;&nbsp;</a></span>kInPlaceResultsAttrName</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr StringLiteral kInPlaceResultsAttrName = &quot;__inplace_operands_attr__&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attribute marker to specify op results that can be bufferized inPlace. </p>

<p class="definition">Definition at line <a class="el" href="OneShotAnalysis_8cpp_source.html#l00072">72</a> of file <a class="el" href="OneShotAnalysis_8cpp_source.html">OneShotAnalysis.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotAnalysis_8cpp_source.html#l00075">setInPlaceOpOperand()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 26 2022 20:34:16 for MLIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
